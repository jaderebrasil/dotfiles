#!/bin/bash
smi=$(nvidia-smi --format=csv --query-gpu=power.draw,utilization.gpu,temperature.gpu | grep -P '^[0-9]')

w=$(echo $smi | cut -d',' -f1 | xargs)
u=$(echo $smi | cut -d',' -f2 | sed 's/\%//g' | xargs)
t=$(echo $smi | cut -d',' -f3 | xargs)

barv=$(echo "$u/12.5" | bc)
case "$barv" in
		"0") bar="â–";;
		"1") bar="â–‚";;
		"2") bar="â–ƒ";;
		"3") bar="â–„";;
		"4") bar="â–…";;
		"5") bar="â–†";;
		"6") bar="â–‡";;
		"7") bar="â–ˆ";;
		"8") bar="â–ˆ";;
esac

echo "ğŸ•¹ $bar $tÂºC"
